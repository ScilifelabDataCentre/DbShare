{% extends 'base.html' %}

{% block head_title %}Schema for view {{ schema['id'] }}{% endblock %}

{% block body_title %}Schema for view <strong>{{ schema['id'] }}</strong>{% endblock %}

{% block main %}
<table class="table">
  <tr>
    <th width="25%">Description</th>
    <td>{{ schema.get('description') or '' }}</td>
  </tr>
  <tr>
    <th>SELECT</th>
    <td>{{ schema['query']['select'] }}</td>
  </tr>
  <tr>
    <th>FROM</th>
    <td>{{ schema['query']['from'] }}</td>
  </tr>
  <tr>
    <th>WHERE</th>
    <td>{{ schema['query']['where'] }}</td>
  </tr>
  <tr>
    <th>ORDER BY</th>
    <td>{{ schema['query']['orderby'] }}</td>
  </tr>
  <tr>
    <th>LIMIT</th>
    <td>{{ schema['query']['limit'] }}</td>
  </tr>
</table>
{% endblock %}

{% block actions %}
<div>
  <a href="{{ url_for('.rows', dbid=db['id'], viewid=schema['id']) }}"
     role="button" class="btn btn-outline-success btn-block">
    View<br>{{ nrows }} rows</a>
</div>
{% endblock %}
